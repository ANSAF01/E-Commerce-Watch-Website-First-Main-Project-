<%- include('../partials/head', { title: 'Forgot Password' }) %>
    <%- include('../partials/header') %>

        <div class="container py-5" style="max-width:480px;">
            <h4 class="text-center mb-4 fw-bold">Forgot Password</h4>
            <p class="text-center text-muted mb-4">Enter your email to receive an OTP code</p>

            <% if (error) { %>
                <div class="alert alert-danger">
                    <%= error %>
                </div>
                <% } %>

                    <form method="POST" action="/auth/forgot-password" novalidate>
                        <div class="mb-3">
                            <label class="form-label fw-semibold">Email Address</label>
                            <input type="email" name="email"
                                class="form-control <%= errors.email ? 'is-invalid' : '' %>"
                                placeholder="Enter your email" value="<%= old.email || '' %>">
                            <% if (errors.email) { %>
                                <div class="invalid-feedback d-block">
                                    <%= errors.email.msg %>
                                </div>
                                <% } %>
                        </div>
                        <button type="submit" class="btn btn-primary w-100">
                            <i class="fas fa-envelope me-2"></i>Send OTP
                        </button>
                        <p class="text-center mt-3 small"><a href="/auth/login">Back to Login</a></p>
                    </form>
        </div>

        <% if (locals.success && success.length> 0) { %>
            <script>
                document.addEventListener('DOMContentLoaded', function () {
                    Alerts.toast('<%= success[0] %>', 'success');
                });
            </script>
            <% } %>

                <%- include('../partials/footer') %>